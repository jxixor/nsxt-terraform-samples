{
  "version": 4,
  "terraform_version": "0.13.0",
  "serial": 10,
  "lineage": "53860773-8ebd-ac17-c7e3-373dd0fdc02f",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "nsxt_policy_edge_cluster",
      "name": "EC",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "display_name": "Edge Cluster 1",
            "id": "d08a0553-815d-4458-b108-5f0b07c00591",
            "path": "/infra/sites/default/enforcement-points/default/edge-clusters/d08a0553-815d-4458-b108-5f0b07c00591",
            "site_path": null
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "nsxt_policy_lb_app_profile",
      "name": "tcp",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "display_name": "default-tcp-lb-app-profile",
            "id": "default-tcp-lb-app-profile",
            "path": "/infra/lb-app-profiles/default-tcp-lb-app-profile",
            "type": "TCP"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "nsxt_policy_service",
      "name": "dns",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "DNS",
            "display_name": "DNS",
            "id": "DNS",
            "path": "/infra/services/DNS"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "nsxt_policy_service",
      "name": "http",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "HTTP",
            "display_name": "HTTP",
            "id": "HTTP",
            "path": "/infra/services/HTTP"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "nsxt_policy_service",
      "name": "mssql1",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "MSSQL Server Database Engine",
            "display_name": "MSSQL Server Database Engine",
            "id": "MSSQL_Server_Database_Engine",
            "path": "/infra/services/MSSQL_Server_Database_Engine"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "nsxt_policy_tier0_gateway",
      "name": "T0",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "display_name": "T0",
            "edge_cluster_path": "/infra/sites/default/enforcement-points/default/edge-clusters/d08a0553-815d-4458-b108-5f0b07c00591",
            "id": "T0",
            "path": "/infra/tier-0s/T0"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "nsxt_policy_transport_zone",
      "name": "overlay_tz",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "display_name": "overlay",
            "id": "fe8a415f-01d2-4b67-9e18-55e4585d3348",
            "is_default": false,
            "path": "/infra/sites/default/enforcement-points/default/transport-zones/fe8a415f-01d2-4b67-9e18-55e4585d3348",
            "site_path": null,
            "transport_type": "OVERLAY_STANDARD"
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nsxt_policy_group",
      "name": "TA3AppSG",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "conjunction": [],
            "criteria": [
              {
                "condition": [
                  {
                    "key": "Tag",
                    "member_type": "VirtualMachine",
                    "operator": "EQUALS",
                    "value": "production|3TAapp"
                  }
                ],
                "ipaddress_expression": [],
                "macaddress_expression": [],
                "path_expression": []
              }
            ],
            "description": "Terraform provisioned Group",
            "display_name": "3TA App SG",
            "domain": "default",
            "extended_criteria": [],
            "id": "2b39ddfe-f886-4f66-8132-2d8eacd9403b",
            "nsx_id": "2b39ddfe-f886-4f66-8132-2d8eacd9403b",
            "path": "/infra/domains/default/groups/2b39ddfe-f886-4f66-8132-2d8eacd9403b",
            "revision": 0,
            "tag": []
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nsxt_policy_group",
      "name": "TA3SG",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "conjunction": [],
            "criteria": [
              {
                "condition": [
                  {
                    "key": "Tag",
                    "member_type": "VirtualMachine",
                    "operator": "STARTSWITH",
                    "value": "3TA"
                  }
                ],
                "ipaddress_expression": [],
                "macaddress_expression": [],
                "path_expression": []
              }
            ],
            "description": "Terraform provisioned Group",
            "display_name": "3TA SG",
            "domain": "default",
            "extended_criteria": [],
            "id": "9e781b97-fd5f-483a-adfd-3791d69c9cc7",
            "nsx_id": "9e781b97-fd5f-483a-adfd-3791d69c9cc7",
            "path": "/infra/domains/default/groups/9e781b97-fd5f-483a-adfd-3791d69c9cc7",
            "revision": 0,
            "tag": []
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nsxt_policy_group",
      "name": "TA3WebSG",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "conjunction": [],
            "criteria": [
              {
                "condition": [
                  {
                    "key": "Tag",
                    "member_type": "VirtualMachine",
                    "operator": "EQUALS",
                    "value": "production|3TAWeb"
                  }
                ],
                "ipaddress_expression": [],
                "macaddress_expression": [],
                "path_expression": []
              }
            ],
            "description": "Terraform provisioned Group",
            "display_name": "3TA Web SG",
            "domain": "default",
            "extended_criteria": [],
            "id": "cd027d30-8240-4fca-a245-51179db4122a",
            "nsx_id": "cd027d30-8240-4fca-a245-51179db4122a",
            "path": "/infra/domains/default/groups/cd027d30-8240-4fca-a245-51179db4122a",
            "revision": 0,
            "tag": []
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nsxt_policy_group",
      "name": "TA3dbSG",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "conjunction": [],
            "criteria": [
              {
                "condition": [
                  {
                    "key": "Tag",
                    "member_type": "VirtualMachine",
                    "operator": "EQUALS",
                    "value": "production|3TADB"
                  }
                ],
                "ipaddress_expression": [],
                "macaddress_expression": [],
                "path_expression": []
              }
            ],
            "description": "Terraform provisioned Group",
            "display_name": "3TA DB SG",
            "domain": "default",
            "extended_criteria": [],
            "id": "afb4eb93-1257-4854-8b61-1a7abc03741f",
            "nsx_id": "afb4eb93-1257-4854-8b61-1a7abc03741f",
            "path": "/infra/domains/default/groups/afb4eb93-1257-4854-8b61-1a7abc03741f",
            "revision": 0,
            "tag": []
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nsxt_policy_security_policy",
      "name": "TA3-policy",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "category": "Application",
            "comments": "",
            "description": "Terraform provisioned Security Policy",
            "display_name": "3TA Policy",
            "domain": "default",
            "id": "ae8c99d5-7647-4a09-9037-9180bc1a45b3",
            "locked": false,
            "nsx_id": "ae8c99d5-7647-4a09-9037-9180bc1a45b3",
            "path": "/infra/domains/default/security-policies/ae8c99d5-7647-4a09-9037-9180bc1a45b3",
            "revision": 0,
            "rule": [
              {
                "action": "ALLOW",
                "description": "",
                "destination_groups": [
                  "/infra/domains/default/groups/cd027d30-8240-4fca-a245-51179db4122a"
                ],
                "destinations_excluded": false,
                "direction": "IN_OUT",
                "disabled": false,
                "display_name": "any to web",
                "ip_version": "IPV4_IPV6",
                "log_label": "",
                "logged": true,
                "notes": "",
                "profiles": null,
                "revision": 0,
                "rule_id": 0,
                "scope": null,
                "sequence_number": 0,
                "services": [
                  "/infra/services/HTTP"
                ],
                "source_groups": null,
                "sources_excluded": false,
                "tag": []
              },
              {
                "action": "ALLOW",
                "description": "",
                "destination_groups": null,
                "destinations_excluded": false,
                "direction": "IN_OUT",
                "disabled": false,
                "display_name": "allow_http from web to any",
                "ip_version": "IPV4_IPV6",
                "log_label": "",
                "logged": true,
                "notes": "i don't need no stinkin notes",
                "profiles": null,
                "revision": 0,
                "rule_id": 0,
                "scope": null,
                "sequence_number": 1,
                "services": [
                  "/infra/services/HTTP"
                ],
                "source_groups": [
                  "/infra/domains/default/groups/cd027d30-8240-4fca-a245-51179db4122a"
                ],
                "sources_excluded": false,
                "tag": []
              },
              {
                "action": "ALLOW",
                "description": "",
                "destination_groups": [
                  "/infra/domains/default/groups/afb4eb93-1257-4854-8b61-1a7abc03741f"
                ],
                "destinations_excluded": false,
                "direction": "IN_OUT",
                "disabled": false,
                "display_name": "allow app to db",
                "ip_version": "IPV4_IPV6",
                "log_label": "",
                "logged": true,
                "notes": "",
                "profiles": null,
                "revision": 0,
                "rule_id": 0,
                "scope": [
                  "/infra/domains/default/groups/2b39ddfe-f886-4f66-8132-2d8eacd9403b",
                  "/infra/domains/default/groups/afb4eb93-1257-4854-8b61-1a7abc03741f"
                ],
                "sequence_number": 2,
                "services": [
                  "/infra/services/MSSQL_Server_Database_Engine"
                ],
                "source_groups": [
                  "/infra/domains/default/groups/2b39ddfe-f886-4f66-8132-2d8eacd9403b"
                ],
                "sources_excluded": false,
                "tag": []
              },
              {
                "action": "ALLOW",
                "description": "",
                "destination_groups": [
                  "/infra/domains/default/groups/9e781b97-fd5f-483a-adfd-3791d69c9cc7"
                ],
                "destinations_excluded": false,
                "direction": "IN_OUT",
                "disabled": false,
                "display_name": "drop any to 3TA",
                "ip_version": "IPV4_IPV6",
                "log_label": "",
                "logged": true,
                "notes": "",
                "profiles": null,
                "revision": 0,
                "rule_id": 0,
                "scope": null,
                "sequence_number": 3,
                "services": null,
                "source_groups": null,
                "sources_excluded": false,
                "tag": []
              },
              {
                "action": "ALLOW",
                "description": "",
                "destination_groups": null,
                "destinations_excluded": false,
                "direction": "IN_OUT",
                "disabled": false,
                "display_name": "drop 3TA to any",
                "ip_version": "IPV4_IPV6",
                "log_label": "",
                "logged": true,
                "notes": "",
                "profiles": null,
                "revision": 0,
                "rule_id": 0,
                "scope": null,
                "sequence_number": 4,
                "services": null,
                "source_groups": [
                  "/infra/domains/default/groups/9e781b97-fd5f-483a-adfd-3791d69c9cc7"
                ],
                "sources_excluded": false,
                "tag": []
              }
            ],
            "scope": null,
            "sequence_number": 0,
            "stateful": true,
            "tag": [],
            "tcp_strict": false
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.nsxt_policy_service.http",
            "data.nsxt_policy_service.mssql1",
            "nsxt_policy_group.TA3AppSG",
            "nsxt_policy_group.TA3SG",
            "nsxt_policy_group.TA3WebSG",
            "nsxt_policy_group.TA3dbSG"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nsxt_policy_segment",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "advanced_config": [],
            "connectivity_path": "/infra/tier-1s/predefined_id",
            "description": "Terraform provisioned Segment",
            "dhcp_config_path": "",
            "discovery_profile": [],
            "display_name": "3TA App",
            "domain_name": "",
            "id": "37883bd5-eaa1-4b55-807b-fa5cc1288510",
            "l2_extension": [],
            "nsx_id": "37883bd5-eaa1-4b55-807b-fa5cc1288510",
            "overlay_id": null,
            "path": "/infra/segments/37883bd5-eaa1-4b55-807b-fa5cc1288510",
            "qos_profile": [],
            "revision": 0,
            "security_profile": [],
            "subnet": [
              {
                "cidr": "10.0.2.1/24",
                "dhcp_ranges": null,
                "dhcp_v4_config": [],
                "dhcp_v6_config": [],
                "network": "10.0.2.0/24"
              }
            ],
            "tag": [],
            "transport_zone_path": "/infra/sites/default/enforcement-points/default/transport-zones/fe8a415f-01d2-4b67-9e18-55e4585d3348"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.nsxt_policy_edge_cluster.EC",
            "data.nsxt_policy_tier0_gateway.T0",
            "data.nsxt_policy_transport_zone.overlay_tz",
            "nsxt_policy_tier1_gateway.tier1_gw"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nsxt_policy_segment",
      "name": "db",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "advanced_config": [],
            "connectivity_path": "/infra/tier-1s/predefined_id",
            "description": "Terraform provisioned Segment",
            "dhcp_config_path": "",
            "discovery_profile": [],
            "display_name": "3TA DB",
            "domain_name": "",
            "id": "47eeabe1-f8a4-48f7-adfb-da0cb4650c07",
            "l2_extension": [],
            "nsx_id": "47eeabe1-f8a4-48f7-adfb-da0cb4650c07",
            "overlay_id": null,
            "path": "/infra/segments/47eeabe1-f8a4-48f7-adfb-da0cb4650c07",
            "qos_profile": [],
            "revision": 0,
            "security_profile": [],
            "subnet": [
              {
                "cidr": "10.0.3.1/24",
                "dhcp_ranges": null,
                "dhcp_v4_config": [],
                "dhcp_v6_config": [],
                "network": "10.0.3.0/24"
              }
            ],
            "tag": [],
            "transport_zone_path": "/infra/sites/default/enforcement-points/default/transport-zones/fe8a415f-01d2-4b67-9e18-55e4585d3348"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.nsxt_policy_edge_cluster.EC",
            "data.nsxt_policy_tier0_gateway.T0",
            "data.nsxt_policy_transport_zone.overlay_tz",
            "nsxt_policy_tier1_gateway.tier1_gw"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nsxt_policy_segment",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "advanced_config": [],
            "connectivity_path": "/infra/tier-1s/predefined_id",
            "description": "Terraform provisioned Segment",
            "dhcp_config_path": "",
            "discovery_profile": [],
            "display_name": "3TA Web",
            "domain_name": "",
            "id": "3407df07-b3ca-46d8-87ef-4f260cb7ec8c",
            "l2_extension": [],
            "nsx_id": "3407df07-b3ca-46d8-87ef-4f260cb7ec8c",
            "overlay_id": null,
            "path": "/infra/segments/3407df07-b3ca-46d8-87ef-4f260cb7ec8c",
            "qos_profile": [],
            "revision": 0,
            "security_profile": [],
            "subnet": [
              {
                "cidr": "10.0.1.1/24",
                "dhcp_ranges": null,
                "dhcp_v4_config": [],
                "dhcp_v6_config": [],
                "network": "10.0.1.0/24"
              }
            ],
            "tag": [],
            "transport_zone_path": "/infra/sites/default/enforcement-points/default/transport-zones/fe8a415f-01d2-4b67-9e18-55e4585d3348"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.nsxt_policy_edge_cluster.EC",
            "data.nsxt_policy_tier0_gateway.T0",
            "data.nsxt_policy_transport_zone.overlay_tz",
            "nsxt_policy_tier1_gateway.tier1_gw"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "nsxt_policy_tier1_gateway",
      "name": "tier1_gw",
      "provider": "provider[\"registry.terraform.io/terraform-providers/nsxt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "default_rule_logging": false,
            "description": "Tier-1 provisioned by Terraform",
            "dhcp_config_path": null,
            "display_name": "Terraform T1",
            "edge_cluster_path": "/infra/sites/default/enforcement-points/default/edge-clusters/d08a0553-815d-4458-b108-5f0b07c00591",
            "egress_qos_profile_path": null,
            "enable_firewall": true,
            "enable_standby_relocation": false,
            "failover_mode": "PREEMPTIVE",
            "force_whitelisting": true,
            "id": "predefined_id",
            "ingress_qos_profile_path": null,
            "intersite_config": null,
            "ipv6_dad_profile_path": "/infra/ipv6-dad-profiles/default",
            "ipv6_ndra_profile_path": "/infra/ipv6-ndra-profiles/default",
            "locale_service": [],
            "nsx_id": "predefined_id",
            "path": "/infra/tier-1s/predefined_id",
            "pool_allocation": "ROUTING",
            "revision": 0,
            "route_advertisement_rule": [],
            "route_advertisement_types": [
              "TIER1_CONNECTED",
              "TIER1_DNS_FORWARDER_IP",
              "TIER1_LB_VIP",
              "TIER1_STATIC_ROUTES"
            ],
            "tag": [
              {
                "scope": "color",
                "tag": "blue"
              }
            ],
            "tier0_path": "/infra/tier-0s/T0"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.nsxt_policy_edge_cluster.EC",
            "data.nsxt_policy_tier0_gateway.T0"
          ]
        }
      ]
    }
  ]
}
